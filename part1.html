<!DOCTYPE html>
<html>
<head>
  <title>
  </title>
  <script type="text/javascript">
    function ArrayToList (arr){
      this.value = arr[0];
      if(arr.length != 1) this.rest = new ArrayToList (arr.splice(1));
      else this.rest = null;
    }
    var list = new ArrayToList([1,2,3]);
    console.log(list);
    
    function ListToArray(list){
      var arr=[];
      return body(list);
      function body(list){
      Object.keys(list).map(function(keys,i){
        if(i%2==0){
           arr.push(list[keys]);
        }
        else if(typeof list[keys] == 'object' && list[keys] !== null){
          return body(list[keys]);
        }
      });
        return arr;
      }
    }
    console.log(ListToArray(list));

    function prepend(value,list){
       var a=ListToArray(list);
       a.push(value);
       var b = new ArrayToList(a);
       return b;
    }
    console.log(prepend(4,list)); 

    function nth(list,num){
      var a=ListToArray(list);
      a=a[num-1];
      return a;
    }
    alert(nth(list,2));
  </script>
</head>
<body>

</body>
</html>